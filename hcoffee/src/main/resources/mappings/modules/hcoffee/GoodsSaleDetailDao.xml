<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 
         符号转义说明
    &lt;          < 	
    &gt;          >  
    &lt;&gt;     <>
    &amp;        & 
    &apos;       '
    &quot;       "
  <![CDATA[ 这里写你的SQL或者符号 ]]> 
 -->
 <!-- 商品销售明细查询 -->
<mapper namespace="com.huilian.hlej.hcf.dao.GoodsSaleDetailDao" > 
	
	<resultMap id="goodsSaleDetailListMap" type="com.huilian.hlej.hcf.vo.GoodsSaleDetailVo">
		<result column="id" property="id" jdbcType="NUMERIC"/>
		<result column="source" property="source" jdbcType="NUMERIC"/>
		<result column="orderNo" property="orderNo" jdbcType="VARCHAR"/>
		<result column="orderStatus" property="orderStatus" jdbcType="NUMERIC"/>
		<result column="orderCreateTime" property="orderCreateTime" jdbcType="TIMESTAMP"/>
		<result column="vendCode" property="vendCode" jdbcType="VARCHAR"/>
		<result column="goodsId" property="goodsId" jdbcType="VARCHAR"/>
		<result column="goodsName" property="goodsName" jdbcType="VARCHAR"/>
		<result column="shelf" property="shelf" jdbcType="VARCHAR"/>
		<result column="amount" property="amount" jdbcType="NUMERIC"/>
		<result column="payStatus" property="payStatus" jdbcType="NUMERIC"/>
		<result column="payTime" property="payTime" jdbcType="TIMESTAMP"/>
		<result column="payType" property="payType" jdbcType="NUMERIC"/>
		<result column="payUser" property="payUser" jdbcType="VARCHAR"/>
		<result column="shipStatus" property="shipStatus" jdbcType="NUMERIC"/>
		<result column="shipTime" property="shipTime" jdbcType="TIMESTAMP"/>
		<result column="updateTime" property="updateTime" jdbcType="TIMESTAMP"/>
	</resultMap>
	
	<!-- 查询所有代理商 -->
	<select id="getGoodsSaleDetailVoList" parameterType="com.huilian.hlej.hcf.vo.GoodsSaleDetailVo" resultMap="goodsSaleDetailListMap">
		<![CDATA[
			SELECT 
			  source,
			  orderNo,
			  orderStatus,
			  orderCreateTime,
			  vendCode,
			  goodsId,
			  goodsName,
			  shelf,
			  amount,
			  payStatus,
			  payTime,
			  payType,
			  payUser,
			  shipStatus,
			  shipTime,
			  updateTime 
			FROM
			  hcf_vend_order_info 
			where 1=1
		]]>
		<if test="orderNo != null and orderNo != ''">
            AND hcf_vend_order_info.orderNo like CONCAT('%','${orderNo}','%' )
        </if>
        <if test="goodsName != null and goodsName != ''">
            AND hcf_vend_order_info.goodsName like CONCAT('%','${goodsName}','%' )
        </if>
        <if test="vendCode != null and vendCode != ''">
            AND hcf_vend_order_info.vendCode like CONCAT('%','${vendCode}','%' )
        </if>
        <if test="orderStatus != null and orderStatus != ''">
            AND hcf_vend_order_info.orderStatus  = #{orderStatus}
        </if>
        <if test="payStatus != null and payStatus != ''">
            AND hcf_vend_order_info.payStatus  = #{payStatus}
        </if>
        <if test="payType != null and payType != ''">
            AND hcf_vend_order_info.payType  = #{payType}
        </if>
        <if test="shipStatus != null and shipStatus != ''">
            AND hcf_vend_order_info.shipStatus  = #{shipStatus}
        </if>
        <if test="startTime != null and  startTime != ''">
	       AND hcf_vend_order_info.orderCreateTime &gt;=  #{startTime}
	    </if>
		<if test="endTime != null and  endTime != ''">
	       AND hcf_vend_order_info.orderCreateTime &lt;=  #{endTime}
	    </if>
        ORDER BY hcf_vend_order_info.updateTime DESC
	</select>
</mapper>   
