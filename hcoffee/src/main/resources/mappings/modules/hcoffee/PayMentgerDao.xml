<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 
         符号转义说明
    &lt;          < 	
    &gt;          >  
    &lt;&gt;     <>
    &amp;        & 
    &apos;       '
    &quot;       "
  <![CDATA[ 这里写你的SQL或者符号 ]]> 
 -->
<mapper namespace="com.huilian.hlej.hcf.dao.PayMentgerDao" > 

		<insert id="savePayMenter" useGeneratedKeys="true" keyProperty="id">
		INSERT INTO `hcf_channel_qrCode` (
 		  `channel_id` ,
		  `channel_name`,
		  `wx_qrCode` ,
		  `yjl_qrCode`,
		  `mxsc_qrCode`,
		  `zfb_qrCode`
		)
		VALUES       
			(
				#{channelId},
				#{channelName},
				#{wxQrCode},
				#{yjlQrCode},
				#{mxscQrCode},
				#{zfbQrCode}
			);
	</insert>
	
	<update id="updateChannelStatus" parameterType="com.huilian.hlej.hcf.vo.PayVo" >
	       DELETE  from  `hcf_channel_qrCode`
			WHERE id = #{id}
	       
    </update>
    
    <update id="updatePayById" parameterType="com.huilian.hlej.hcf.vo.PayVo" >
       UPDATE `hcf_channel_qrCode` 
		<set>
				channel_id = #{channelId},
				channel_name = #{channelName},
				wx_qrCode = #{wxQrCode},
				yjl_qrCode = #{yjlQrCode},
				mxsc_qrCode = #{mxscQrCode},
				zfb_qrCode = #{zfbQrCode},
		</set>
		WHERE id = #{id}	
    </update>
    
    
     <select id="getChannelList"  resultType="com.huilian.hlej.hcf.vo.ChannelVo" parameterType="com.huilian.hlej.hcf.vo.ChannelVo">
		 SELECT
				hsh_channel.*
			FROM
				hsh_channel
			where 1=1	
			<if test="channelName != null and  channelName != ''">
                AND hsh_channel.channel_name  like  CONCAT('%','${channelName}','%' )
            </if>
            <if test="startTime != null and  startTime != ''">
                AND hsh_channel.create_time    &gt;=  #{startTime}
            </if>
    		<if test="endTime != null and  endTime != ''">
                AND hsh_channel.create_time    &lt;=  #{endTime}
            </if>
             <if test="idList != null and  idList != ''">
                AND hsh_channel.id   in  (${idList})
            </if>
			ORDER BY hsh_channel.create_time DESC
	</select>	
    	
    	
	
	<select id="getPayMentgerPage" resultType="com.huilian.hlej.hcf.vo.PayVo" parameterType="com.huilian.hlej.hcf.vo.PayVo">
	        SELECT
				hcf_channel_qrCode.*
			FROM
				hcf_channel_qrCode
			where 1=1	
			<if test="channelId != null and  channelId != ''">
              AND   hcf_channel_qrCode.channel_id  like  CONCAT('%','${channelId}','%' )
            </if>
			<if test="channelName != null and  channelName != ''">
              AND   hcf_channel_qrCode.channel_name  like  CONCAT('%','${channelName}','%' )
            </if>
    </select>
    
    	
	<select id="getPayById" resultType="com.huilian.hlej.hcf.vo.PayVo" parameterType="com.huilian.hlej.hcf.vo.PayVo">
	        SELECT
				hcf_channel_qrCode.*
			FROM
				hcf_channel_qrCode
			WHERE id = #{id}
    </select>
    
	<select id="getChannel" resultType="com.huilian.hlej.hcf.vo.ChannelVo" parameterType="com.huilian.hlej.hcf.vo.ChannelVo">
	        SELECT
				hsh_channel.*
			FROM
				hsh_channel
			where 1=1	
			<if test="channelName!= null and  channelName!= ''">
                AND hsh_channel.channel_name  =  #{channelName}
            </if>
            <if test="channelId != null and  channelId != ''">
                AND hsh_channel.channel_id  =  #{channelId}
            </if>
            <if test="mark!= null and  mark!= ''">
                AND hsh_channel.mark  =  #{mark}
            </if>
            <if test="remark != null and  remark != ''">
                AND hsh_channel.remark  =  #{remark}
            </if>
    </select>
    
    
    <select id="validateChannelName" resultType="com.huilian.hlej.hcf.vo.PayVo" parameterType="com.huilian.hlej.hcf.vo.PayVo">
	        SELECT
				hcf_channel_qrCode.*
			FROM
				hcf_channel_qrCode
			where 1=1	
			<if test="channelId != null and  channelId != ''">
                AND hcf_channel_qrCode.channel_id  =  #{channelId}
            </if>
            <if test="channelName != null and  channelName != ''">
                AND hcf_channel_qrCode.channel_name  =  #{channelName}
            </if>
    	</select>

	
</mapper>   
